{
  "description": "TDD workflow hooks: pre-push quality checks, test file protection, and PLAN.md validation",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "bash ${CLAUDE_PLUGIN_ROOT}/hooks/scripts/pre-push-check.sh",
            "timeout": 300
          },
          {
            "type": "command",
            "command": "bash ${CLAUDE_PLUGIN_ROOT}/hooks/scripts/check-plan-md.sh",
            "timeout": 10
          }
        ]
      },
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "bash ${CLAUDE_PLUGIN_ROOT}/hooks/scripts/protect-tests.sh",
            "timeout": 10
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Before stopping, verify that PLAN.md is up to date with the current implementation. Check: 1) Does PLAN.md exist? 2) Does it accurately describe the current state of the feature? 3) Are there any implemented features not documented in PLAN.md? 4) Are there any planned features in PLAN.md that weren't implemented? If PLAN.md needs updates, return 'block' with specific recommendations. If PLAN.md accurately reflects the implementation, return 'approve'.",
            "timeout": 60
          }
        ]
      }
    ]
  }
}
